  # double_pinyin_flypy.custom.yaml
  # author: Tianshu Wang <volekingsg@gmail.com>

  patch:
    __include: base:/patch
    engine/processors:
      - ascii_composer
      - recognizer
      - key_binder
      - speller
      - punctuator
      - selector
      - navigator
      - express_editor
      - fluency_editor

    emoji_suggestion:
      opencc_config: emoji.json
      option_name: emoji_suggestion

    translator/dictionary: flypyzc.extended   # è¼‰å…¥æœ™æœˆæ‹¼éŸ³æ“´å……è©åº«
    translator/preedit_format: {}                 # è¾“å…¥åŒæ‹¼ç çš„æ—¶å€™ä¸è½¬åŒ–ä¸ºå…¨æ‹¼ç 

    # åŠ è¼‰ easy_en ä¾è³´
    "schema/dependencies/@next": easy_en
    # è¼‰å…¥ç¿»è­¯è‹±æ–‡çš„ç¢¼è¡¨ç¿»è­¯å™¨ï¼Œå–åçˆ² english
    "engine/translators/@next": table_translator@english
    # english ç¿»è­¯å™¨çš„è¨­å®šé …
    english:
      dictionary: easy_en
      spelling_hints: 9
      enable_completion: true
      enable_sentence: false
      initial_quality: -2
    recognizer/patterns/uppercase: ''
    speller/alphabet:
      __include: easy_en.schema:/speller/alphabet

    # ä½¿ç”¨è‡ªå®šä¹‰è¯å…¸ custom_phrase.txt
    "engine/translators/@after last": table_translator@custom_phrase
    custom_phrase:
      dictionary: ""
      user_dict: custom_phrase
      db_class: stabledb
      enable_completion: false
      enable_sentence: false
      initial_quality: 1

    # è‡ªå®šä¹‰ç¬¦å·ä¸Šå±
    punctuator:
      import_preset: symbols
      symbols:
        "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
        "/xh": [ ï¼Š, Ã—, âœ±, â˜…, â˜†, âœ©, âœ§, â‹, âŠ, â‰, âˆ, â…, âœ¿, âœ²]
        "/dq": [ğŸŒ,ğŸŒ,ğŸŒ,ğŸŒ,ğŸŒ‘,ğŸŒ’,ğŸŒ“,ğŸŒ”,ğŸŒ•,ğŸŒ–,ğŸŒ—,ğŸŒ˜]
        "/sg": [ğŸ‡,ğŸ‰,ğŸŒ,ğŸ,ğŸ,ğŸ,ğŸ‘,ğŸ’,ğŸ“,ğŸ—,ğŸ¦,ğŸ‚,ğŸº,ğŸ»]
        "/dw": [ğŸ™ˆ,ğŸµ,ğŸˆ,ğŸ·,ğŸ¨,ğŸ¼,ğŸ¾,ğŸ”,ğŸ¬,ğŸ ,ğŸ¦‹]
        "/bq": [ğŸ˜€,ğŸ˜,ğŸ˜‚,ğŸ˜ƒ,ğŸ˜„,ğŸ˜…,ğŸ˜†,ğŸ˜‰,ğŸ˜Š,ğŸ˜‹,ğŸ˜,ğŸ˜,ğŸ˜˜,ğŸ˜—]
        "/ss": [ğŸ’ª,ğŸ‘ˆ,ğŸ‘‰,ğŸ‘†,ğŸ‘‡,âœ‹,ğŸ‘Œ,ğŸ‘,ğŸ‘,âœŠ,ğŸ‘Š,ğŸ‘‹,ğŸ‘,ğŸ‘]
      half_shape:
        "#": "#"
        "*": "*"
        "`": "`"
        "~": "~"
        "@": "@"
        "=": "="
        '\': "ã€"
        "%": "%"
        "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
        "|": ["|", "ï½œ", "Â·", "ãƒ»", "Â§", "Â¦", "â€–", "ï¸´"]
        "/": ["/", "Ã·"]
        "'": { pair: ["ã€Œ", "ã€"] }
        "[": ["ã€", "ã€”", "ï¼»"]
        "]": ["ã€‘", "ã€•", "ï¼½"]
        "<": "ã€Š"
        ">": "ã€‹"

    # recognizer/patterns/reverse_lookup:
    recognizer/patterns/punct: "^/([0-9]0?|[A-Za-z]+)$"

    # æ¨¡ç³Šæ‹¼éŸ³
    'speller/algebra/@after last': 'abbrev/^(.).+$/$1/'           # é¦–å­—æ¯ç®€æ‹¼
    # "speller/algebra/@before 1": xform/^([b-df-hj-np-tv-z])$/$1_/
    # "speller/algebra/@before 2": derive/([ei])n$/$1ng/            # æ¨¡ç³Šæ‹¼éŸ³ en => eng, in => ing
    # "speller/algebra/@before 3": derive/([ei])ng$/$1n/            # æ¨¡ç³Šæ‹¼éŸ³ eng => en, ing => in
    # "speller/algebra/@before 4": derive/^n/l/                     # æ¨¡ç³Šæ‹¼éŸ³ n => l
    # "speller/algebra/@before 5": derive/^l/n/                     # æ¨¡ç³Šæ‹¼éŸ³ l => n
    # "speller/algebra/@before 6": derive/ou$/uo/                   # æ¨¡ç³Šæ‹¼éŸ³ ou => uo
    # "speller/algebra/@before 7": derive/uo$/ou/                   # æ¨¡ç³Šæ‹¼éŸ³ uo => ou
    # "speller/algebra/@before 8": abbrev/^([a-z]).+$/$1/
    # "speller/algebra/@before 9": abbrev/^([zcs]h).+$/$1/
    # "speller/algebra/@before 10": derive/^([zcs])h/$1/            # æ¨¡ç³Šæ‹¼éŸ³ zh, ch, sh => z, c, s
    # "speller/algebra/@before 11": derive/^([zcs])([^h])/$1h$2/    # æ¨¡ç³Šæ‹¼éŸ³ z, c, s => zh, ch, sh

    # é…ç½® Speller çš„ Alphabet å’Œ Delimiter
    speller:
      alphabet: zyxwvutsrqponmlkjihgfedcba
      delimiter: " ;'"


  __patch:
  # Rx: emoji:customize:schema=double_pinyin_flypy {
    - patch/+:
        __include: emoji_suggestion:/patch
  # }

  # librime-lua è¾“å…¥åŠ¨æ€æ—¶é—´å’Œæ—¥æœŸ
  #"engine/translators": lua_translator@date_translator
  